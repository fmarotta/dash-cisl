{"version":3,"sources":["webpack:///./src/lib/components/DashCisl.react.js"],"names":["Math","mod","x","y","angularDist","a","b","min","PI","arcLength","from","to","parseLength","length","viewport_size","console","warn","undefined","value","parseFloat","unit","replace","px","uniqueId","num","prefix","String","Cisl","props","step","max","Error","breaks_n","id","cislRef","useRef","useState","width","screen","setWidth","useLayoutEffect","current","offsetWidth","angle2value","angle","round","value2angle","angle2tangent","offset","cos","sin","external2angle","center_x","offsetLeft","center_y","offsetTop","atan","adjust_angle","format_label","n","toFixed","digits","CislFixedParts","Tick","cl","key","transform","Break","text","rails_n_border","rails_width","rails_border_width","ruler","angle_tick","coord_tick","push","coord_break","breaks_altitude","i","major_breaks_every","CislMovingParts","angleState","adjustedState","valueState","tangentState","handle_mousedown","e_down","persist","preventDefault","target","focus","some","classList","contains","pageX","touches","pageY","angle_down","angle_from_down","angle_to_down","cisl_slice_from","cisl_slice_to","mousemove_wrapper","e","handle_mousemove","mouseup_wrapper","handle_mouseup","forEach","event_type","window","addEventListener","once","e_move","new_angle","setProps","e_up","move_function","stopPropagation","stopImmediatePropagation","removeEventListener","handle_keydown","e_press","scale","which","weight","shiftKey","ctrlKey","handle_wheel","e_wheel","deltaY","Labels","coord_from","labels_altitude","coord_to","labels","left","top","postfix","angle_from_to","coord_from_to","values_sep","height","propTypes","PropTypes","string","number","bar_width","func","defaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AACAA,IAAI,CAACC,GAAL,GAAW,UAASC,CAAT,EAAYC,CAAZ,EAAe;EACtB,IAAID,CAAC,IAAI,CAAL,IAAUC,CAAC,IAAI,CAAf,IAAoBD,CAAC,GAAG,CAAJ,IAASC,CAAC,GAAG,CAArC,EACI,OAAOD,CAAC,GAAGC,CAAX,CADJ,KAGI,OAAQD,CAAC,GAAGC,CAAL,GAAUA,CAAjB;AACP,CALD;AAOA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAIC,WAAW,GAAG,SAAdA,WAAc,CAASC,CAAT,EAAYC,CAAZ,EAAe;EAC7B,OAAON,IAAI,CAACO,GAAL,CAASP,IAAI,CAACC,GAAL,CAASK,CAAC,GAAGD,CAAb,EAAgB,IAAIL,IAAI,CAACQ,EAAzB,CAAT,EAAuCR,IAAI,CAACC,GAAL,CAASI,CAAC,GAAGC,CAAb,EAAgB,IAAIN,IAAI,CAACQ,EAAzB,CAAvC,CAAP;AACH,CAFD;AAIA;AACA;AACA;AACA;AACA;;;AACA,IAAIC,SAAS,GAAG,SAAZA,SAAY,CAASC,IAAT,EAAeC,EAAf,EAAmB;EAC/B,OAAOX,IAAI,CAACC,GAAL,CAASU,EAAE,GAAGD,IAAd,EAAoB,IAAIV,IAAI,CAACQ,EAA7B,CAAP;AACH,CAFD;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAII,WAAW,GAAG,SAAdA,WAAc,CAASC,MAAT,EAAiBC,aAAjB,EAAgC;EAC9C,IAAI,OAAOD,MAAP,IAAkB,QAAtB,EACI,OAAOA,MAAP,CADJ,KAEK,IAAI,OAAOA,MAAP,IAAkB,QAAtB,EAAgC;IACjCE,OAAO,CAACC,IAAR,CAAa,oEAAmEH,MAAnE,CAAb;IACA,OAAOI,SAAP;EACH;EACD,IAAIC,KAAK,GAAGC,UAAU,CAACN,MAAD,CAAtB;EACA,IAAIO,IAAI,GAAGP,MAAM,CAACQ,OAAP,CAAeH,KAAf,EAAsB,EAAtB,CAAX;EACA,IAAIE,IAAI,IAAI,EAAZ,EAAgB;IACZ,OAAOF,KAAP;EACJ,IAAII,EAAE,GAAG,GAAT;;EACA,QAAQF,IAAR;IACI,KAAK,IAAL;MACIE,EAAE,GAAGJ,KAAK,GAAG,IAAb;MACA;;IACJ,KAAK,IAAL;MACII,EAAE,GAAGJ,KAAK,GAAG,IAAb;MACA;;IACJ,KAAK,GAAL;MACII,EAAE,GAAGJ,KAAK,GAAG,KAAb;MACA;;IACJ,KAAK,IAAL;MACII,EAAE,GAAGJ,KAAK,GAAG,MAAb;MACA;;IACJ,KAAK,IAAL;MACII,EAAE,GAAGJ,KAAK,GAAG,MAAb;MACA;;IACJ,KAAK,IAAL;MACII,EAAE,GAAGJ,KAAK,GAAG,MAAb;MACA;;IACJ,KAAK,IAAL;MACII,EAAE,GAAGJ,KAAL;MACA;;IACJ,KAAK,GAAL;MACI;AACZ;AACA;AACA;AACA;AACA;AACA;MACY,IAAIJ,aAAa,KAAKG,SAAtB,EAAiC;QAC7BF,OAAO,CAACC,IAAR,CAAa,kFAAb;QACA;MACH;;MACDM,EAAE,GAAGJ,KAAK,GAAGN,WAAW,CAACE,aAAD,CAAnB,GAAqC,GAA1C;MACA;;IACJ;MACIC,OAAO,CAACC,IAAR,CAAa,eAAeI,IAAf,GAAsB,4BAAnC;EArCR;;EAuCA,OAAOE,EAAP;AACH,CApDD;AAsDA;AACA;AACA;AACA;AACA;;;AACA,IAAIC,QAAQ,GAAI,YAAY;EACxB,IAAIC,GAAG,GAAG,CAAV;EACA,OAAO,UAASC,MAAT,EAAiB;IACpBA,MAAM,GAAGC,MAAM,CAACD,MAAD,CAAN,IAAkB,EAA3B;IACAD,GAAG,IAAI,CAAP;IACA,OAAOC,MAAM,GAAGD,GAAhB;EACH,CAJD;AAKH,CAPe,EAAhB;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACe,SAASG,IAAT,CAAcC,KAAd,EAAqB;EAChC;EACA,IAAIA,KAAK,CAACC,IAAN,IAAc,CAACD,KAAK,CAACE,GAAN,GAAYF,KAAK,CAACrB,GAAnB,IAA0BqB,KAAK,CAACC,IAAhC,GAAuC,CAAzD,EAA4D;IACxD,MAAME,KAAK,CAAC,oDACR,oEADO,CAAX;EAEH,CAHD,MAGO,IAAIH,KAAK,CAACC,IAAN,IAAc,IAAd,IAAsB,CAACD,KAAK,CAACE,GAAN,GAAYF,KAAK,CAACrB,GAAnB,IAA0BqB,KAAK,CAACC,IAAhC,GAAuCD,KAAK,CAACI,QAAvE,EAAiF;IACpF,MAAMD,KAAK,CAAC,6CACR,oFADO,CAAX;EAEH;;EAED,gBAAoCH,KAApC,CAAOK,EAAP;EAAA,IAAOA,EAAP,0BAAYV,QAAQ,CAAC,UAAD,CAApB;EACA,IAAMW,OAAO,GAAGC,oDAAM,CAAC,IAAD,CAAtB;;EACA,gBAA0BC,sDAAQ,CAACxB,WAAW,CAACgB,KAAK,CAACS,KAAP,EAAcC,MAAM,CAACD,KAArB,CAAZ,CAAlC;EAAA;EAAA,IAAOA,KAAP;EAAA,IAAcE,QAAd,iBAZgC,CAchC;;;EACAC,6DAAe,CAAC,YAAM;IAClBD,QAAQ,CAACL,OAAO,CAACO,OAAR,CAAgBC,WAAjB,CAAR;EACH,CAFc,EAEZ,EAFY,CAAf;EAIA;AACJ;AACA;AACA;AACA;AACA;;EAEI;AACJ;AACA;;EACI,SAASC,WAAT,CAAqBC,KAArB,EAA4B;IACxB,IAAI1B,KAAK,GAAGU,KAAK,CAACrB,GAAN,GAAYqC,KAAK,IAAIhB,KAAK,CAACE,GAAN,GAAYF,KAAK,CAACrB,GAAtB,CAAL,IAAmC,IAAIP,IAAI,CAACQ,EAA5C,CAAxB;IACA,IAAI,CAACoB,KAAK,CAACC,IAAX,EACI,OAAOX,KAAP;IACJ,OAAOU,KAAK,CAACC,IAAN,GAAa7B,IAAI,CAAC6C,KAAL,CAAW3B,KAAK,GAAGU,KAAK,CAACC,IAAzB,CAApB;EACH;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;EACI,SAASiB,WAAT,CAAqB5B,KAArB,EAA4B;IACxB,OAAOA,KAAK,GAAGU,KAAK,CAACrB,GAArB;MACIW,KAAK,GAAGU,KAAK,CAACE,GAAN,IAAaF,KAAK,CAACrB,GAAN,GAAYW,KAAzB,CAAR;IADJ;;IAEA,IAAIA,KAAK,GAAGU,KAAK,CAACE,GAAlB,EACIZ,KAAK,IAAIU,KAAK,CAACE,GAAf;IACJ,OAAO,IAAI9B,IAAI,CAACQ,EAAT,IAAeU,KAAK,GAAGU,KAAK,CAACrB,GAA7B,KAAqCqB,KAAK,CAACE,GAAN,GAAYF,KAAK,CAACrB,GAAvD,CAAP;EACH;EACD;AACJ;AACA;;;EACI,SAASwC,aAAT,CAAuBH,KAAvB,EAA0C;IAAA,IAAZI,MAAY,uEAAH,CAAG;IACtC,IAAI9C,CAAC,GAAG,CAAC,OAAOmC,KAAP,GAAeW,MAAhB,IAA0BhD,IAAI,CAACiD,GAAL,CAASL,KAAK,GAAG5C,IAAI,CAACQ,EAAL,GAAU,CAA3B,CAA1B,GAA0D6B,KAAK,GAAG,CAA1E;IACA,IAAIlC,CAAC,GAAG,CAAC,OAAOkC,KAAP,GAAeW,MAAhB,IAA0BhD,IAAI,CAACkD,GAAL,CAASN,KAAK,GAAG5C,IAAI,CAACQ,EAAL,GAAU,CAA3B,CAA1B,GAA0D6B,KAAK,GAAG,CAA1E;IACA,OAAO,CAACnC,CAAD,EAAIC,CAAJ,CAAP;EACH;EACD;AACJ;AACA;AACA;AACA;AACA;;;EACI,SAASgD,cAAT,CAAwBjD,CAAxB,EAA2BC,CAA3B,EAA8B;IAC1B,IAAIiD,QAAQ,GAAGlB,OAAO,CAACO,OAAR,CAAgBY,UAAhB,GAA6BhB,KAAK,GAAG,CAApD;IACA,IAAIiB,QAAQ,GAAGpB,OAAO,CAACO,OAAR,CAAgBc,SAAhB,GAA4BlB,KAAK,GAAG,CAAnD;IACA,IAAIO,KAAK,GAAG5C,IAAI,CAACQ,EAAL,GAAQ,CAAR,GAAYR,IAAI,CAACwD,IAAL,CAAU,CAACrD,CAAC,GAAGmD,QAAL,KAAkBpD,CAAC,GAAGkD,QAAtB,CAAV,CAAxB;IACA,IAAIlD,CAAC,GAAGkD,QAAR,EACIR,KAAK,IAAI5C,IAAI,CAACQ,EAAd;IACJ,OAAOoC,KAAP;EACH;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;;;EACI,SAASa,YAAT,CAAsBb,KAAtB,EAA6B;IACzBA,KAAK,GAAG5C,IAAI,CAACC,GAAL,CAAS2C,KAAT,EAAgB,IAAI5C,IAAI,CAACQ,EAAzB,CAAR;IACA,IAAI,CAACoB,KAAK,CAACC,IAAX,EACI,OAAOe,KAAP;IACJ,OAAOE,WAAW,CAACH,WAAW,CAACC,KAAD,CAAZ,CAAlB;EACH;EAED;AACJ;AACA;;;EACI,SAASc,YAAT,CAAsBC,CAAtB,EAAyB;IACrB,OAAOA,CAAC,CAACC,OAAF,CAAUhC,KAAK,CAACiC,MAAhB,CAAP;EACH;EAED;AACJ;AACA;AACA;AACA;AACA;;;EACI,SAASC,cAAT,GAA0B;IACtB;AACR;AACA;AACA;AACA;AACA;IACQ,SAASC,IAAT,CAAc7D,CAAd,EAAiBC,CAAjB,EAAoByC,KAApB,EAA2BoB,EAA3B,EAA+BC,GAA/B,EAAoC;MAChCrB,KAAK,IAAI5C,IAAI,CAACQ,EAAd;MACA,oBACI;QAAM,GAAG,EAAEyD,GAAX;QAAgB,SAAS,EAAED,EAA3B;QAA+B,CAAC,EAAE9D,CAAlC;QAAqC,CAAC,EAAEC,CAAxC;QAA2C,KAAK,EAAE;UAAC+D,SAAS,EAAE,kCAAgCtB,KAAhC,GAAsC;QAAlD;MAAlD,EADJ;IAGH;;IACD,SAASuB,KAAT,CAAejE,CAAf,EAAkBC,CAAlB,EAAqByC,KAArB,EAA4BoB,EAA5B,EAAgCI,IAAhC,EAAsCH,GAAtC,EAA2C;MACvC,oBACI;QAAM,GAAG,EAAEA,GAAX;QAAgB,SAAS,EAAED,EAA3B;QAA+B,CAAC,EAAE9D,CAAlC;QAAqC,CAAC,EAAEC,CAAxC;QAA2C,KAAK,EAAE;UAAC+D,SAAS,EAAE,YAAUtB,KAAV,GAAgB;QAA5B;MAAlD,GAAwFwB,IAAxF,CADJ;IAGH;IAED;;;IACA,IAAIxC,KAAK,CAACI,QAAN,KAAmB,CAAvB,EAA0B;MACtB,IAAIqC,cAAc,GAAGzD,WAAW,CAACgB,KAAK,CAAC0C,WAAP,EAAoBjC,KAApB,CAAX,GAAwCzB,WAAW,CAACgB,KAAK,CAAC2C,kBAAP,EAA2BlC,KAA3B,CAAxE;MACA,IAAImC,KAAK,GAAG,EAAZ;MACA,IAAIC,UAAU,GAAGhB,YAAY,CAAC,CAAD,CAA7B;MACA,IAAIiB,UAAU,GAAG3B,aAAa,CAAC0B,UAAD,EAAa,CAACJ,cAAD,GAAkB,CAA/B,CAA9B;MACAG,KAAK,CAACG,IAAN,CACIZ,IAAI,CAACW,UAAU,CAAC,CAAD,CAAX,EAAgBA,UAAU,CAAC,CAAD,CAA1B,EAA+BD,UAA/B,EAA2C,6BAA3C,EAA0E,CAA1E,CADR;MAGA,IAAIG,WAAW,GAAG7B,aAAa,CAAC0B,UAAD,EAAa,CAAC7D,WAAW,CAACgB,KAAK,CAACiD,eAAP,EAAwBxC,KAAxB,CAAzB,CAA/B;MACAmC,KAAK,CAACG,IAAN,CACIR,KAAK,CAACS,WAAW,CAAC,CAAD,CAAZ,EAAiBA,WAAW,CAAC,CAAD,CAA5B,EAAiCH,UAAjC,EAA6C,8BAA7C,EAA6Ef,YAAY,CAACf,WAAW,CAAC8B,UAAD,CAAZ,CAAzF,EAAoH,CAApH,CADT;IAGH;;IACD,KAAK,IAAIK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlD,KAAK,CAACI,QAA1B,EAAoC8C,CAAC,EAArC,EAAyC;MACrCL,UAAU,GAAGhB,YAAY,CAACqB,CAAC,GAAG,CAAJ,GAAQ9E,IAAI,CAACQ,EAAb,GAAkBoB,KAAK,CAACI,QAAzB,CAAzB;MACA0C,UAAU,GAAG3B,aAAa,CAAC0B,UAAD,EAAa,CAACJ,cAAD,GAAkB,CAA/B,CAA1B;MACAO,WAAW,GAAG7B,aAAa,CAAC0B,UAAD,EAAa,CAAC7D,WAAW,CAACgB,KAAK,CAACiD,eAAP,EAAwBxC,KAAxB,CAAzB,CAA3B;;MACA,IAAIyC,CAAC,GAAGlD,KAAK,CAACmD,kBAAV,IAAgC,CAApC,EAAuC;QACnCP,KAAK,CAACG,IAAN,CACIZ,IAAI,CAACW,UAAU,CAAC,CAAD,CAAX,EAAgBA,UAAU,CAAC,CAAD,CAA1B,EAA+BD,UAA/B,EAA2C,6BAA3C,EAA0E,IAAIK,CAA9E,CADR;QAGAN,KAAK,CAACG,IAAN,CACIR,KAAK,CAACS,WAAW,CAAC,CAAD,CAAZ,EAAiBA,WAAW,CAAC,CAAD,CAA5B,EAAiCH,UAAjC,EAA6C,8BAA7C,EAA6Ef,YAAY,CAACf,WAAW,CAAC8B,UAAD,CAAZ,CAAzF,EAAoH,IAAIK,CAAJ,GAAQ,CAA5H,CADT;MAGH,CAPD,MAOO;QACHN,KAAK,CAACG,IAAN,CACIZ,IAAI,CAACW,UAAU,CAAC,CAAD,CAAX,EAAgBA,UAAU,CAAC,CAAD,CAA1B,EAA+BD,UAA/B,EAA2C,6BAA3C,EAA0E,IAAIK,CAA9E,CADR;MAGH;IACJ;;IAED,oBACE,qIACE;MAAQ,SAAS,EAAC,+BAAlB;MAAkD,EAAE,EAAC,KAArD;MAA2D,EAAE,EAAC,KAA9D;MAAoE,CAAC,EAAC,KAAtE;MAA4E,IAAI,EAAC,aAAjF;MAA+F,WAAW,EAAElE,WAAW,CAACgB,KAAK,CAAC0C,WAAP,EAAoBjC,KAApB,CAAX,GAAwCzB,WAAW,CAACgB,KAAK,CAAC2C,kBAAP,EAA2BlC,KAA3B;IAA/J,EADF,eAEE;MAAQ,SAAS,EAAC,wBAAlB;MAA2C,EAAE,EAAC,KAA9C;MAAoD,EAAE,EAAC,KAAvD;MAA6D,CAAC,EAAC,KAA/D;MAAqE,IAAI,EAAC,aAA1E;MAAwF,WAAW,EAAEzB,WAAW,CAACgB,KAAK,CAAC0C,WAAP,EAAoBjC,KAApB;IAAhH,EAFF,EAGGmC,KAHH,CADF;EAOH;EAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;EACI,SAASQ,eAAT,GAA2B;IACvB;IACA,IAAIC,UAAU,GAAGrD,KAAK,CAACqD,UAAvB;IACA,IAAMC,aAAa,GAAG,CAACzB,YAAY,CAACwB,UAAU,CAAC,CAAD,CAAX,CAAb,EAA8BxB,YAAY,CAACwB,UAAU,CAAC,CAAD,CAAX,CAA1C,CAAtB;IACA,IAAME,UAAU,GAAG,CAACxC,WAAW,CAACuC,aAAa,CAAC,CAAD,CAAd,CAAZ,EAAgCvC,WAAW,CAACuC,aAAa,CAAC,CAAD,CAAd,CAA3C,CAAnB;IACA,IAAME,YAAY,GAAG,CAACrC,aAAa,CAACmC,aAAa,CAAC,CAAD,CAAd,CAAd,EAAkCnC,aAAa,CAACmC,aAAa,CAAC,CAAD,CAAd,CAA/C,CAArB;IAEA;;IACA,IAAIG,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,MAAD,EAAY;MAC/BA,MAAM,CAACC,OAAP;MACAD,MAAM,CAACE,cAAP;MACAF,MAAM,CAACG,MAAP,CAAcC,KAAd;MACA;AACZ;AACA;AACA;AACA;;MACY,IAAI,CAAC,YAAD,EAAe,UAAf,EAA2B,oBAA3B,EAAiDC,IAAjD,CAAsD,UAAC3B,EAAD;QAAA,OAAQsB,MAAM,CAACG,MAAP,CAAcG,SAAd,CAAwBC,QAAxB,CAAiC7B,EAAjC,CAAR;MAAA,CAAtD,CAAJ,EAAyG;QACrG,IAAI8B,KAAK,GAAGR,MAAM,CAACQ,KAAP,IAAgBR,MAAM,CAACS,OAAP,CAAe,CAAf,EAAkBD,KAA9C;QACA,IAAIE,KAAK,GAAGV,MAAM,CAACU,KAAP,IAAgBV,MAAM,CAACS,OAAP,CAAe,CAAf,EAAkBC,KAA9C;QACA,IAAIC,UAAU,GAAG9C,cAAc,CAAC2C,KAAD,EAAQE,KAAR,CAA/B;QACA,IAAIE,eAAe,GAAGhB,aAAa,CAAC,CAAD,CAAnC;QACA,IAAIiB,aAAa,GAAGjB,aAAa,CAAC,CAAD,CAAjC,CALqG,CAMrG;QACA;QACA;;QACAI,MAAM,CAACc,eAAP,GAAyB3F,SAAS,CAACyF,eAAD,EAAkBD,UAAlB,CAAlC;QACAX,MAAM,CAACe,aAAP,GAAuB5F,SAAS,CAACwF,UAAD,EAAaE,aAAb,CAAhC;MACH;;MACD,IAAIG,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,CAAD;QAAA,OAAOC,gBAAgB,CAACD,CAAD,EAAIjB,MAAJ,CAAvB;MAAA,CAAxB;;MACA,IAAImB,eAAe,GAAG,SAAlBA,eAAkB,CAACF,CAAD;QAAA,OAAOG,cAAc,CAACH,CAAD,EAAID,iBAAJ,CAArB;MAAA,CAAtB;;MACA,CAAC,SAAD,EAAY,UAAZ,EAAwBK,OAAxB,CAAgC,UAACC,UAAD;QAAA,OAAgBC,MAAM,CAACC,gBAAP,CAAwBF,UAAxB,EAAoCH,eAApC,EAAqD;UAACM,IAAI,EAAE;QAAP,CAArD,CAAhB;MAAA,CAAhC;MACA,CAAC,WAAD,EAAc,WAAd,EAA2BJ,OAA3B,CAAmC,UAACC,UAAD;QAAA,OAAgBC,MAAM,CAACC,gBAAP,CAAwBF,UAAxB,EAAoCN,iBAApC,CAAhB;MAAA,CAAnC;IACH,CAzBD;;IA0BA,SAASE,gBAAT,CAA0BQ,MAA1B,EAAkC1B,MAAlC,EAA0C;MACtC,IAAI0B,MAAM,CAAClB,KAAP,IAAgB,CAAhB,IAAqBkB,MAAM,CAACjB,OAAP,KAAmB9E,SAA5C,EAAuD;QACnD,IAAI6E,KAAK,GAAG,CAAZ;QACA,IAAIE,KAAK,GAAGgB,MAAM,CAAChB,KAAP,IAAgBgB,MAAM,CAACjB,OAAP,CAAe,CAAf,EAAkBC,KAA9C;MACH,CAHD,MAGO;QACH,IAAIF,KAAK,GAAGkB,MAAM,CAAClB,KAAP,IAAgBkB,MAAM,CAACjB,OAAP,CAAe,CAAf,EAAkBD,KAA9C;QACA,IAAIE,KAAK,GAAGgB,MAAM,CAAChB,KAAP,IAAgBgB,MAAM,CAACjB,OAAP,CAAe,CAAf,EAAkBC,KAA9C;MACH;;MACD,IAAIiB,SAAS,GAAG9D,cAAc,CAAC2C,KAAD,EAAQE,KAAR,CAA9B;;MACA,IAAI,CAAC,gBAAD,EAAmB,eAAnB,EAAoCL,IAApC,CAAyC,UAAC3B,EAAD;QAAA,OAAQsB,MAAM,CAACG,MAAP,CAAcG,SAAd,CAAwBC,QAAxB,CAAiC7B,EAAjC,CAAR;MAAA,CAAzC,CAAJ,EAA4F;QACxF;QACA,KAAKpC,KAAL,CAAWsF,QAAX,CAAoB;UAACjC,UAAU,EAAE,CAACC,aAAa,CAAC,CAAD,CAAd,EAAmB+B,SAAnB;QAAb,CAApB;MACH,CAHD,MAGO,IAAI,CAAC,kBAAD,EAAqB,iBAArB,EAAwCtB,IAAxC,CAA6C,UAAC3B,EAAD;QAAA,OAAQsB,MAAM,CAACG,MAAP,CAAcG,SAAd,CAAwBC,QAAxB,CAAiC7B,EAAjC,CAAR;MAAA,CAA7C,CAAJ,EAAgG;QACnG;QACA,KAAKpC,KAAL,CAAWsF,QAAX,CAAoB;UAACjC,UAAU,EAAE,CAACgC,SAAD,EAAY/B,aAAa,CAAC,CAAD,CAAzB;QAAb,CAApB;MACH,CAHM,MAGA,IAAI,CAAC,YAAD,EAAe,UAAf,EAA2B,oBAA3B,EAAiDS,IAAjD,CAAsD,UAAC3B,EAAD;QAAA,OAAQsB,MAAM,CAACG,MAAP,CAAcG,SAAd,CAAwBC,QAAxB,CAAiC7B,EAAjC,CAAR;MAAA,CAAtD,CAAJ,EAAyG;QAC5G;QACA,KAAKpC,KAAL,CAAWsF,QAAX,CAAoB;UAACjC,UAAU,EAAE,CAACgC,SAAS,GAAG3B,MAAM,CAACc,eAApB,EAAqCa,SAAS,GAAG3B,MAAM,CAACe,aAAxD;QAAb,CAApB;MACH;IACJ;;IACD,SAASK,cAAT,CAAwBS,IAAxB,EAA8BC,aAA9B,EAA6C;MACzCD,IAAI,CAACE,eAAL;MACAF,IAAI,CAACG,wBAAL;MACA,CAAC,WAAD,EAAc,WAAd,EAA2BX,OAA3B,CAAmC,UAACC,UAAD;QAAA,OAAgBC,MAAM,CAACU,mBAAP,CAA2BX,UAA3B,EAAuCQ,aAAvC,CAAhB;MAAA,CAAnC;MACA;AACZ;AACA;AACA;AACA;IACS;;IACD,SAASI,cAAT,CAAwBC,OAAxB,EAAiC;MAC7B,IAAIC,KAAK,GAAG,KAAZ,CAD6B,CACV;;MACnB,QAAQD,OAAO,CAACE,KAAhB;QACI;QACA,KAAK,EAAL,CAFJ,CAEc;;QACV,KAAK,EAAL;UAAS;UACLD,KAAK,GAAG,IAAR;QACJ;;QACA,KAAK,EAAL,CANJ,CAMc;;QACV,KAAK,EAAL;UAAU;UACN,IAAIE,MAAM,GAAG,CAAC,CAAd;UACA;QACJ;;QACA,KAAK,EAAL,CAXJ,CAWc;;QACV,KAAK,EAAL;UAAS;UACLF,KAAK,GAAG,IAAR;QACJ;;QACA,KAAK,EAAL,CAfJ,CAec;;QACV,KAAK,EAAL;UAAS;UACL,IAAIE,MAAM,GAAG,CAAb;UACA;;QACJ;UACI;MApBR;;MAsBA,IAAIH,OAAO,CAACI,QAAZ,EAAsB;QAClBD,MAAM,IAAI,EAAV;MACH,CA1B4B,CA2B7B;;;MACA,IAAIhG,KAAK,CAACC,IAAN,KAAe,IAAf,IAAuB4F,OAAO,CAACK,OAAnC,EAA4C;QACxCF,MAAM,GAAGnH,SAAS,CAACqC,WAAW,CAAClB,KAAK,CAACrB,GAAP,CAAZ,EAAyBuC,WAAW,CAAClB,KAAK,CAACrB,GAAN,GAAYqH,MAAM,GAAGhG,KAAK,CAACC,IAA5B,CAApC,CAAlB,CADwC,CACkD;MAC7F,CAFD,MAEO;QACH+F,MAAM,IAAI5H,IAAI,CAACQ,EAAL,GAAU,EAApB,CADG,CACqB;MAC3B;MACD;AACZ;AACA;AACA;AACA;;;MACY,IAAIkH,KAAJ,EAAW;QACP;QACA,KAAK9F,KAAL,CAAWsF,QAAX,CAAoB;UAACjC,UAAU,EAAE,CAACC,aAAa,CAAC,CAAD,CAAb,GAAmB0C,MAAM,GAAG,CAA7B,EAAgC1C,aAAa,CAAC,CAAD,CAAb,GAAmB0C,MAAM,GAAG,CAA5D;QAAb,CAApB;MACH,CAHD,MAGO,IAAI,CAAC,gBAAD,EAAmB,eAAnB,EAAoCjC,IAApC,CAAyC,UAAC3B,EAAD;QAAA,OAAQyD,OAAO,CAAChC,MAAR,CAAeG,SAAf,CAAyBC,QAAzB,CAAkC7B,EAAlC,CAAR;MAAA,CAAzC,CAAJ,EAA6F;QAChG;QACA,KAAKpC,KAAL,CAAWsF,QAAX,CAAoB;UAACjC,UAAU,EAAE,CAACC,aAAa,CAAC,CAAD,CAAd,EAAmBA,aAAa,CAAC,CAAD,CAAb,GAAmB0C,MAAtC;QAAb,CAApB;MACH,CAHM,MAGA,IAAI,CAAC,kBAAD,EAAqB,iBAArB,EAAwCjC,IAAxC,CAA6C,UAAC3B,EAAD;QAAA,OAAQyD,OAAO,CAAChC,MAAR,CAAeG,SAAf,CAAyBC,QAAzB,CAAkC7B,EAAlC,CAAR;MAAA,CAA7C,CAAJ,EAAiG;QACpG;QACA,KAAKpC,KAAL,CAAWsF,QAAX,CAAoB;UAACjC,UAAU,EAAE,CAACC,aAAa,CAAC,CAAD,CAAb,GAAmB0C,MAApB,EAA4B1C,aAAa,CAAC,CAAD,CAAzC;QAAb,CAApB;MACH,CAHM,MAGA,IAAI,CAAC,UAAD,EAAa,oBAAb,EAAmCS,IAAnC,CAAwC,UAAC3B,EAAD;QAAA,OAAQyD,OAAO,CAAChC,MAAR,CAAeG,SAAf,CAAyBC,QAAzB,CAAkC7B,EAAlC,CAAR;MAAA,CAAxC,CAAJ,EAA4F;QAC/F;QACA,KAAKpC,KAAL,CAAWsF,QAAX,CAAoB;UAACjC,UAAU,EAAE,CAACC,aAAa,CAAC,CAAD,CAAb,GAAmB0C,MAApB,EAA4B1C,aAAa,CAAC,CAAD,CAAb,GAAmB0C,MAA/C;QAAb,CAApB;MACH;MACD;AACZ;AACA;AACA;AACA;;IACS;;IACD,SAASG,YAAT,CAAsBC,OAAtB,EAA+B;MAC3B,IAAIJ,MAAM,GAAG,OAAOI,OAAO,CAACC,MAA5B;MACA;AACZ;AACA;AACA;AACA;MACY;;MACA,KAAKrG,KAAL,CAAWsF,QAAX,CAAoB;QAACjC,UAAU,EAAE,CAACC,aAAa,CAAC,CAAD,CAAb,GAAmB0C,MAAM,GAAG5H,IAAI,CAACQ,EAAd,GAAmB,EAAvC,EAA2C0E,aAAa,CAAC,CAAD,CAAb,GAAmB0C,MAAM,GAAG5H,IAAI,CAACQ,EAAd,GAAmB,EAAjF;MAAb,CAApB,EAR2B,CAQ8F;;MACzH;AACZ;AACA;AACA;AACA;IACS;IAED;AACR;AACA;;;IACQ,SAAS0H,MAAT,GAAkB;MACd,IAAI9H,WAAW,CAAC8E,aAAa,CAAC,CAAD,CAAd,EAAmBA,aAAa,CAAC,CAAD,CAAhC,CAAX,GAAkDlF,IAAI,CAACQ,EAAL,GAAU,EAAhE,EAAoE;QAChE,IAAI2H,UAAU,GAAGpF,aAAa,CAACmC,aAAa,CAAC,CAAD,CAAd,EAAmBtE,WAAW,CAACgB,KAAK,CAACwG,eAAP,EAAwB/F,KAAxB,CAA9B,CAA9B;QACA,IAAIgG,QAAQ,GAAGtF,aAAa,CAACmC,aAAa,CAAC,CAAD,CAAd,EAAmBtE,WAAW,CAACgB,KAAK,CAACwG,eAAP,EAAwB/F,KAAxB,CAA9B,CAA5B;QACA,IAAIiG,MAAM,GAAG,cACT;UACI,GAAG,EAAC,GADR;UAEI,SAAS,EAAC,wCAFd;UAGI,KAAK,EAAE;YACHC,IAAI,EAAEJ,UAAU,CAAC,CAAD,CADb;YAEHK,GAAG,EAAEL,UAAU,CAAC,CAAD,CAFZ;YAGHjE,SAAS,EAAE,kCAAgCgB,aAAa,CAAC,CAAD,CAA7C,GAAiD;UAHzD,CAHX;UAQI,QAAQ,EAAC,GARb;UASI,WAAW,EAAEG,gBATjB;UASmC,YAAY,EAAEA,gBATjD;UAUI,SAAS,EAAEmC,cAVf;UAWI,OAAO,EAAEO;QAXb,GAYSnG,KAAK,CAACH,MAAN,GAAeiC,YAAY,CAACyB,UAAU,CAAC,CAAD,CAAX,CAA3B,GAA6CvD,KAAK,CAAC6G,OAZ5D,CADS,eAeT;UACI,GAAG,EAAC,GADR;UAEI,SAAS,EAAC,sCAFd;UAGI,KAAK,EAAE;YACHF,IAAI,EAAEF,QAAQ,CAAC,CAAD,CADX;YAEHG,GAAG,EAAEH,QAAQ,CAAC,CAAD,CAFV;YAGHnE,SAAS,EAAE,kCAAgCgB,aAAa,CAAC,CAAD,CAA7C,GAAiD;UAHzD,CAHX;UAQI,QAAQ,EAAC,GARb;UASI,WAAW,EAAEG,gBATjB;UASmC,YAAY,EAAEA,gBATjD;UAUI,SAAS,EAAEmC,cAVf;UAWI,OAAO,EAAEO;QAXb,GAYSnG,KAAK,CAACH,MAAN,GAAeiC,YAAY,CAACyB,UAAU,CAAC,CAAD,CAAX,CAA3B,GAA6CvD,KAAK,CAAC6G,OAZ5D,CAfS,CAAb;MA8BH,CAjCD,MAiCO;QACH,IAAIC,aAAa,GAAGxD,aAAa,CAAC,CAAD,CAAb,GAAmBzE,SAAS,CAACyE,aAAa,CAAC,CAAD,CAAd,EAAmBA,aAAa,CAAC,CAAD,CAAhC,CAAT,GAAgD,CAAvF;QACA,IAAIyD,aAAa,GAAG5F,aAAa,CAAC2F,aAAD,EAAgB9H,WAAW,CAACgB,KAAK,CAACwG,eAAP,EAAwB/F,KAAxB,CAA3B,CAAjC;QACA,IAAIiG,MAAM,gBACN;UACI,SAAS,EAAC,2CADd;UAEI,KAAK,EAAE;YACHC,IAAI,EAAEI,aAAa,CAAC,CAAD,CADhB;YAEHH,GAAG,EAAEG,aAAa,CAAC,CAAD,CAFf;YAGHzE,SAAS,EAAE,kCAAgCwE,aAAhC,GAA8C;UAHtD,CAFX;UAOI,QAAQ,EAAC,GAPb;UAQI,WAAW,EAAErD,gBARjB;UAQmC,YAAY,EAAEA,gBARjD;UASI,SAAS,EAAEmC,cATf;UAUI,OAAO,EAAEO;QAVb,GAWSnG,KAAK,CAACH,MAAN,GAAeiC,YAAY,CAACyB,UAAU,CAAC,CAAD,CAAX,CAA3B,GAA6CvD,KAAK,CAACgH,UAAnD,GAAgElF,YAAY,CAACyB,UAAU,CAAC,CAAD,CAAX,CAA5E,GAA8FvD,KAAK,CAAC6G,OAX7G,CADJ;MAcH;;MAED,oBACE;QAAe,KAAK,EAAC,MAArB;QAA4B,MAAM,EAAC;MAAnC,GACGH,MADH,CADF;IAKH;;IAED,oBACE,qIACE,2DAAC,MAAD,OADF,eAEE;MAAM,SAAS,EAAC,sBAAhB;MAAuC,IAAI,EAAC,aAA5C;MAA0D,QAAQ,EAAC,GAAnE;MAAuE,WAAW,EAAE1H,WAAW,CAACgB,KAAK,CAAC0C,WAAP,EAAoBjC,KAApB,CAA/F;MAA2H,CAAC,EAAE,OAAO+C,YAAY,CAAC,CAAD,CAAZ,CAAgB,CAAhB,CAAP,GAA4B,GAA5B,GAAkCA,YAAY,CAAC,CAAD,CAAZ,CAAgB,CAAhB,CAAlC,GAAuD,GAAvD,GAC5H,IAD4H,GACrH,OAAO/C,KAD8G,GACtG,GADsG,GAChG,OAAOA,KADyF,GACjF,GADiF,GAE5H,IAF4H,IAEnH5B,SAAS,CAACyE,aAAa,CAAC,CAAD,CAAd,EAAmBA,aAAa,CAAC,CAAD,CAAhC,CAAT,IAAiDlF,IAAI,CAACQ,EAAvD,GAA6D,IAA7D,GAAoE,IAFgD,IAExC,IAFwC,GAG5H4E,YAAY,CAAC,CAAD,CAAZ,CAAgB,CAAhB,CAH4H,GAGvG,GAHuG,GAGjGA,YAAY,CAAC,CAAD,CAAZ,CAAgB,CAAhB,CAHiG,GAG5E,GAH4E,GAI5H,IAJ4H,GAIrH,OAAO/C,KAJ8G,GAItG,GAJsG,GAIhG,OAAOA,KAJyF,GAIjF,GAJiF,GAK5H,IAL4H,IAKnH5B,SAAS,CAACyE,aAAa,CAAC,CAAD,CAAd,EAAmBA,aAAa,CAAC,CAAD,CAAhC,CAAT,IAAiDlF,IAAI,CAACQ,EAAvD,GAA6D,IAA7D,GAAoE,IALgD,IAKxC,IALwC,GAM5H4E,YAAY,CAAC,CAAD,CAAZ,CAAgB,CAAhB,CAN4H,GAMvG,GANuG,GAMjGA,YAAY,CAAC,CAAD,CAAZ,CAAgB,CAAhB,CAN7B;MAMiD,eAAe,EAAE3E,SAAS,CAACyE,aAAa,CAAC,CAAD,CAAd,EAAmBA,aAAa,CAAC,CAAD,CAAhC,CAAT,GAAgD,IAAhD,GAAuD7C,KAAvD,GAA+D,GAA/D,GAAqE,IAAIrC,IAAI,CAACQ,EAAT,GAAc,IAAd,GAAqB6B,KAN5J;MAOE,WAAW,EAAEgD,gBAPf;MAOiC,YAAY,EAAEA,gBAP/C;MAOiE,SAAS,EAAEmC,cAP5E;MAO4F,OAAO,EAAEO;IAPrG,EAFF,eAWE;MAAM,SAAS,EAAC,0CAAhB;MAA2D,QAAQ,EAAC,GAApE;MAAwE,CAAC,EAAE3C,YAAY,CAAC,CAAD,CAAZ,CAAgB,CAAhB,CAA3E;MAA+F,CAAC,EAAEA,YAAY,CAAC,CAAD,CAAZ,CAAgB,CAAhB,CAAlG;MAAsH,KAAK,EAAE;QAAClB,SAAS,EAAE,iCAA+BgB,aAAa,CAAC,CAAD,CAA5C,GAAgD;MAA5D,CAA7H;MAAkM,WAAW,EAAEG,gBAA/M;MAAiO,YAAY,EAAEA,gBAA/O;MAAiQ,SAAS,EAAEmC,cAA5Q;MAA4R,OAAO,EAAEO;IAArS,EAXF,eAYE;MAAM,SAAS,EAAC,wCAAhB;MAAyD,QAAQ,EAAC,GAAlE;MAAsE,CAAC,EAAE3C,YAAY,CAAC,CAAD,CAAZ,CAAgB,CAAhB,CAAzE;MAA6F,CAAC,EAAEA,YAAY,CAAC,CAAD,CAAZ,CAAgB,CAAhB,CAAhG;MAAoH,KAAK,EAAE;QAAClB,SAAS,EAAE,iCAA+BgB,aAAa,CAAC,CAAD,CAA5C,GAAgD;MAA5D,CAA3H;MAAgM,WAAW,EAAEG,gBAA7M;MAA+N,YAAY,EAAEA,gBAA7O;MAA+P,SAAS,EAAEmC,cAA1Q;MAA0R,OAAO,EAAEO;IAAnS,EAZF,CADF;EAgBH;;EAED,oBACE;IAAK,EAAE,EAAE9F,EAAT;IAAa,SAAS,EAAC,gBAAvB;IAAwC,KAAK,EAAE;MAAC4G,MAAM,EAAExG,KAAT;MAAgBA,KAAK,EAAEA;IAAvB,CAA/C;IAA8E,GAAG,EAAEH;EAAnF,gBACE;IAAK,EAAE,EAAE,SAASD,EAAlB;IAAsB,SAAS,EAAC,gBAAhC;IAAiD,MAAM,EAAC,MAAxD;IAA+D,KAAK,EAAC;EAArE,gBACE,2DAAC,cAAD,OADF,eAEE,2DAAC,eAAD,OAFF,CADF,CADF;AAQH;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAN,IAAI,CAACmH,SAAL,GAAiB;EACb;AACJ;AACA;EACI7G,EAAE,EAAE8G,iDAAS,CAACC,MAJD;;EAKb;AACJ;AACA;EACI3G,KAAK,EAAE0G,iDAAS,CAACC,MARJ;;EASb;AACJ;AACA;EACIzI,GAAG,EAAEwI,iDAAS,CAACE,MAZF;;EAab;AACJ;AACA;EACInH,GAAG,EAAEiH,iDAAS,CAACE,MAhBF;;EAiBb;AACJ;AACA;EACIvI,IAAI,EAAEqI,iDAAS,CAACE,MApBH;;EAqBb;AACJ;AACA;EACItI,EAAE,EAAEoI,iDAAS,CAACE,MAxBD;;EAyBb;AACJ;AACA;EACIpH,IAAI,EAAEkH,iDAAS,CAACE,MA5BH;;EA6Bb;AACJ;AACA;EACIjH,QAAQ,EAAE+G,iDAAS,CAACE,MAhCP;;EAiCb;AACJ;AACA;EACIlE,kBAAkB,EAAEgE,iDAAS,CAACE,MApCjB;;EAqCb;AACJ;AACA;EACI3E,WAAW,EAAEyE,iDAAS,CAACC,MAxCV;;EAyCb;AACJ;AACA;EACIE,SAAS,EAAEH,iDAAS,CAACC,MA5CR;;EA6Cb;AACJ;AACA;EACIzE,kBAAkB,EAAEwE,iDAAS,CAACC,MAhDjB;;EAiDb;AACJ;AACA;EACInE,eAAe,EAAEkE,iDAAS,CAACC,MApDd;;EAqDb;AACJ;AACA;EACIZ,eAAe,EAAEW,iDAAS,CAACC,MAxDd;;EAyDb;AACJ;AACA;EACInF,MAAM,EAAEkF,iDAAS,CAACE,MA5DL;;EA6Db;AACJ;AACA;EACIxH,MAAM,EAAEsH,iDAAS,CAACC,MAhEL;;EAiEb;AACJ;AACA;EACIP,OAAO,EAAEM,iDAAS,CAACC,MApEN;;EAqEb;AACJ;AACA;EACIJ,UAAU,EAAEG,iDAAS,CAACC,MAxET;;EAyEb;AACJ;AACA;AACA;EACI9B,QAAQ,EAAE6B,iDAAS,CAACI;AA7EP,CAAjB;AAgFAxH,IAAI,CAACyH,YAAL,GAAoB;EAChB/G,KAAK,EAAE,OADS;EAEhB9B,GAAG,EAAE,CAFW;EAGhBuB,GAAG,EAAE,GAHW;EAIhBpB,IAAI,EAAE,CAJU;EAKhBC,EAAE,EAAE,EALY;EAMhBkB,IAAI,EAAE,CANU;EAMP;EACTG,QAAQ,EAAE,EAPM;EAQhB+C,kBAAkB,EAAE,CARJ;EAQO;EACvBT,WAAW,EAAE,IATG;EAUhBC,kBAAkB,EAAE,MAVJ;EAWhBM,eAAe,EAAE,IAXD;EAYhBuD,eAAe,EAAE,MAZD;EAahBvE,MAAM,EAAE,CAbQ;EAaL;EACXpC,MAAM,EAAE,EAdQ;EAehBgH,OAAO,EAAE,EAfO;EAgBhBG,UAAU,EAAE;AAhBI,CAApB;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E","file":"0b34e4e-main-wps-hmr.js","sourcesContent":["import React, { useState, useRef, useEffect, useLayoutEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport './DashCisl.react.css';\n\n/**\n * Implement the modulo operation\n *\n * @return The modulo, not the usual remainder that javascript has.\n */\nMath.mod = function(x, y) {\n    if (x >= 0 && y >= 0 || x < 0 && y < 0)\n        return x % y\n    else\n        return (x % y) + y\n}\n\n/**\n * Compute the distance between two angles\n *\n * @return The distance along the shortest path along the circumference \n * (in any direction).\n */\nvar angularDist = function(a, b) {\n    return Math.min(Math.mod(b - a, 2 * Math.PI), Math.mod(a - b, 2 * Math.PI));\n}\n\n/**\n * Compute the length of an arc\n *\n * @return The length going in the direction from->to.\n */\nvar arcLength = function(from, to) {\n    return Math.mod(to - from, 2 * Math.PI);\n}\n\n/**\n * Convert a CSS length to px\n *\n * Based on the following documents:\n * https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Values_and_units\n * https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-width\n * https://www.w3.org/TR/SVG2/coords.html\n *\n * @note for percentages, the stroke-width should computed with respect \n * to the normalised diagonal length of the viewport. The normalised \n * diagonal is the diagonal divided by sqrt(2). The user is responsible \n * for computing it.\n */\nvar parseLength = function(length, viewport_size) {\n    if (typeof(length) == 'number')\n        return length;\n    else if (typeof(length) != 'string') {\n        console.warn('The length should be either a number or a string, not a' + typeof(length));\n        return undefined;\n    }\n    var value = parseFloat(length);\n    var unit = length.replace(value, '');\n    if (unit == '') // assume it's already in px\n        return value;\n    var px = 0.0;\n    switch (unit) {\n        case 'cm':\n            px = value / 37.8;\n            break;\n        case 'mm':\n            px = value / 3.78;\n            break;\n        case 'Q':\n            px = value / 0.945;\n            break;\n        case 'in':\n            px = value / 96.012;\n            break;\n        case 'pc':\n            px = value / 16.002;\n            break;\n        case 'pt':\n            px = value / 1.3335;\n            break;\n        case 'px':\n            px = value;\n            break;\n        case '%':\n            /*\n            if (viewport === undefined) {\n                console.warn('You have to provide the viewport as an argument when the length is a percentage.')\n                break\n            }\n            px = value / 100 * Math.sqrt(viewport.getBBox().width**2 + viewport.getBBox().height**2) / Math.sqrt(2)\n            */\n            if (viewport_size === undefined) {\n                console.warn('You have to provide the viewport as an argument when the length is a percentage.');\n                break;\n            }\n            px = value * parseLength(viewport_size) / 100;\n            break;\n        default:\n            console.warn('The unit \"' + unit + '\" could not be recognised.');\n    }\n    return px;\n}\n\n/**\n * Generate a unique ID for an html element\n *\n * https://stackoverflow.com/questions/61282153/simplest-way-to-generate-unique-id-onto-a-value-grabbed-from-a-form-react\n */\nlet uniqueId = (function () {\n    let num = 0;\n    return function(prefix) {\n        prefix = String(prefix) || '';\n        num += 1;\n        return prefix + num;\n    }\n}());\n\n/**\n * Cisl\n *\n * A circular slider component. Features and customisation are somewhat limited\n * to what I need for my work. It has two handles which can be moved either\n * independently or at the same time (to shift the whole range). Handes can also\n * be moved with arrow keys, WASD keys, or the mouse wheel.\n */\nexport default function Cisl(props) {\n    // Validate step size\n    if (props.step && (props.max - props.min) / props.step < 3) {\n        throw Error(\"Not enough steps: at least three are required; \" +\n            \"either increase the range of the slider or decrease the step size.\");\n    } else if (props.step != null && (props.max - props.min) / props.step < props.breaks_n) {\n        throw Error(\"Step size too big or not enough breaks; \" +\n            \"you can decrease the range of the slider, increase `step', or decrease `breaks_n'.\");\n    }\n\n    const {id = uniqueId(\"cisl-id-\")} = props;\n    const cislRef = useRef(null);\n    const [width, setWidth] = useState(parseLength(props.width, screen.width));\n\n    // Respond to resizes\n    useLayoutEffect(() => {\n        setWidth(cislRef.current.offsetWidth);\n    }, []);\n\n    /* Computations\n     *\n     * The following functions are devoted to computing some quantities, \n     * mostly using trigonometry or modular arithmetic. They are here \n     * because they use the props.\n     */\n\n    /**\n     * Given an angle, return the closest admissible value, considering the  step\n     */\n    function angle2value(angle) {\n        var value = props.min + angle * (props.max - props.min) / (2 * Math.PI);\n        if (!props.step)\n            return value;\n        return props.step * Math.round(value / props.step);\n    }\n    /**\n     * Given a value, return the corresponding angle\n     *\n     * When moving with the arrow keys, it may happen that one keypress \n     * moves the value to something bigger than the maximum value (even \n     * more than twice as big). Thus, it's necessary to bring the value \n     * within the acceptable range first.\n     */\n    function value2angle(value) {\n        while (value < props.min)\n            value = props.max - (props.min - value);\n        if (value > props.max)\n            value %= props.max;\n        return 2 * Math.PI * (value - props.min) / (props.max - props.min);\n    }\n    /**\n     * Given the angle, get the coordinates on the rails\n     */\n    function angle2tangent(angle, offset = 0) {\n        var x = (0.35 * width + offset) * Math.cos(angle - Math.PI / 2) + width / 2;\n        var y = (0.35 * width + offset) * Math.sin(angle - Math.PI / 2) + width / 2;\n        return [x, y];\n    }\n    /**\n     * Given the coordinates of an external point, get the angle\n     *\n     * When the pointer is in a certain position, we want to know the \n     * angle at which it lies with respect to the center of the circle.\n     */\n    function external2angle(x, y) {\n        var center_x = cislRef.current.offsetLeft + width / 2;\n        var center_y = cislRef.current.offsetTop + width / 2;\n        var angle = Math.PI/2 + Math.atan((y - center_y) / (x - center_x));\n        if (x < center_x)\n            angle += Math.PI;\n        return angle;\n    }\n    /**\n     * Make sure that the angle is safe and sound\n     *\n     * First, when dragging the bar it may happen that angle < 0 or \n     * angle > 2pi because of the slice, so we correct this. Second, if \n     * we have a step, we make sure that the angle is allowed.\n     */\n    function adjust_angle(angle) {\n        angle = Math.mod(angle, 2 * Math.PI);\n        if (!props.step)\n            return angle;\n        return value2angle(angle2value(angle));\n    }\n\n    /**\n     * Format the label\n     */\n    function format_label(n) {\n        return n.toFixed(props.digits);\n    }\n\n    /**\n     * CislFixedParts\n     *\n     * Renders the background of the circular slider. These parts should \n     * not move, except possibly when the viewport is resized.\n     */\n    function CislFixedParts() {\n        /* Subcomponents\n         *\n         * These functions create additional elements that are part of the \n         * circular slider. These elements have a defined structure, but can \n         * be parametrised.\n         */\n        function Tick(x, y, angle, cl, key) {\n            angle += Math.PI;\n            return (\n                <rect key={key} className={cl} x={x} y={y} style={{transform: 'translate(-50%,-100%) rotate('+angle+'rad)'}}/>\n            );\n        }\n        function Break(x, y, angle, cl, text, key) {\n            return (\n                <text key={key} className={cl} x={x} y={y} style={{transform: 'rotate('+angle+'rad)'}}>{text}</text>\n            );\n        }\n\n        /* draw the ruler */\n        if (props.breaks_n !== 0) {\n            var rails_n_border = parseLength(props.rails_width, width) + parseLength(props.rails_border_width, width);\n            var ruler = [];\n            var angle_tick = adjust_angle(0);\n            var coord_tick = angle2tangent(angle_tick, -rails_n_border / 2);\n            ruler.push(\n                Tick(coord_tick[0], coord_tick[1], angle_tick, \"cisl-tick-major cisl--style\", 0)\n            );\n            var coord_break = angle2tangent(angle_tick, -parseLength(props.breaks_altitude, width));\n            ruler.push(\n                Break(coord_break[0], coord_break[1], angle_tick, \"cisl-break-major cisl--style\", format_label(angle2value(angle_tick)), 1)\n            );\n        }\n        for (var i = 1; i < props.breaks_n; i++) {\n            angle_tick = adjust_angle(i * 2 * Math.PI / props.breaks_n);\n            coord_tick = angle2tangent(angle_tick, -rails_n_border / 2);\n            coord_break = angle2tangent(angle_tick, -parseLength(props.breaks_altitude, width));\n            if (i % props.major_breaks_every == 0) {\n                ruler.push(\n                    Tick(coord_tick[0], coord_tick[1], angle_tick, \"cisl-tick-major cisl--style\", 2 * i)\n                );\n                ruler.push(\n                    Break(coord_break[0], coord_break[1], angle_tick, \"cisl-break-major cisl--style\", format_label(angle2value(angle_tick)), 2 * i + 1)\n                );\n            } else {\n                ruler.push(\n                    Tick(coord_tick[0], coord_tick[1], angle_tick, \"cisl-tick-minor cisl--style\", 2 * i)\n                );\n            }\n        }\n\n        return (\n          <>\n            <circle className='cisl-rails-border cisl--style' cx='50%' cy='50%' r='35%' fill='transparent' strokeWidth={parseLength(props.rails_width, width) + parseLength(props.rails_border_width, width)}></circle>\n            <circle className='cisl-rails cisl--style' cx='50%' cy='50%' r='35%' fill='transparent' strokeWidth={parseLength(props.rails_width, width)} ></circle>\n            {ruler}\n          </>\n        );\n    }\n\n    /**\n     * CislMovingParts\n     *\n     * All that can move. It's necessary to have a separate component from \n     * the rest because we don't want to re-render the parts that don't \n     * change every time we move the handles.\n     *\n     * It's defined here, under the main component, because we want to \n     * use the same props without the overhead of passing them to a \n     * nested component. It doesn't make sense to use the moving parts \n     * without everything else.\n     */\n    function CislMovingParts() {\n        //const [angleState, setAngleState] = useState([0, Math.PI / 4]);\n        var angleState = props.angleState;\n        const adjustedState = [adjust_angle(angleState[0]), adjust_angle(angleState[1])];\n        const valueState = [angle2value(adjustedState[0]), angle2value(adjustedState[1])];\n        const tangentState = [angle2tangent(adjustedState[0]), angle2tangent(adjustedState[1])];\n\n        /* event handlers */\n        var handle_mousedown = (e_down) => {\n            e_down.persist();\n            e_down.preventDefault();\n            e_down.target.focus();\n            /*\n            if (typeof this.onStart === \"function\") {\n                this.onStart()\n            }\n            */\n            if ([\"cisl-rails\", \"cisl-bar\", \"cisl-label-from-to\"].some((cl) => e_down.target.classList.contains(cl))) {\n                var pageX = e_down.pageX || e_down.touches[0].pageX;\n                var pageY = e_down.pageY || e_down.touches[0].pageY;\n                var angle_down = external2angle(pageX, pageY);\n                var angle_from_down = adjustedState[0];\n                var angle_to_down = adjustedState[1];\n                // bind these properties to the e_down event, so that we \n                // only have to pass the event to the handle_mousemove \n                // listener.\n                e_down.cisl_slice_from = arcLength(angle_from_down, angle_down);\n                e_down.cisl_slice_to = arcLength(angle_down, angle_to_down);\n            }\n            var mousemove_wrapper = (e) => handle_mousemove(e, e_down);\n            var mouseup_wrapper = (e) => handle_mouseup(e, mousemove_wrapper);\n            [\"mouseup\", \"touchend\"].forEach((event_type) => window.addEventListener(event_type, mouseup_wrapper, {once: true}));\n            [\"mousemove\", \"touchmove\"].forEach((event_type) => window.addEventListener(event_type, mousemove_wrapper));\n        }\n        function handle_mousemove(e_move, e_down) {\n            if (e_move.pageX == 0 && e_move.touches === undefined) {\n                var pageX = 0;\n                var pageY = e_move.pageY || e_move.touches[0].pageY;\n            } else {\n                var pageX = e_move.pageX || e_move.touches[0].pageX;\n                var pageY = e_move.pageY || e_move.touches[0].pageY;\n            }\n            var new_angle = external2angle(pageX, pageY);\n            if ([\"cisl-handle-to\", \"cisl-label-to\"].some((cl) => e_down.target.classList.contains(cl))) {\n                // setAngleState([adjustedState[0], new_angle]);\n                this.props.setProps({angleState: [adjustedState[0], new_angle]});\n            } else if ([\"cisl-handle-from\", \"cisl-label-from\"].some((cl) => e_down.target.classList.contains(cl))) {\n                // setAngleState([new_angle, adjustedState[1]]);\n                this.props.setProps({angleState: [new_angle, adjustedState[1]]});\n            } else if ([\"cisl-rails\", \"cisl-bar\", \"cisl-label-from-to\"].some((cl) => e_down.target.classList.contains(cl))) {\n                // setAngleState([new_angle - e_down.cisl_slice_from, new_angle + e_down.cisl_slice_to]);\n                this.props.setProps({angleState: [new_angle - e_down.cisl_slice_from, new_angle + e_down.cisl_slice_to]});\n            }\n        }\n        function handle_mouseup(e_up, move_function) {\n            e_up.stopPropagation();\n            e_up.stopImmediatePropagation();\n            [\"mousemove\", \"touchmove\"].forEach((event_type) => window.removeEventListener(event_type, move_function));\n            /*\n            if (typeof this.onFinish === \"function\") {\n                this.onFinish()\n            }\n            */\n        }\n        function handle_keydown(e_press) {\n            var scale = false; // whether to move (false) or to expand/contract (true)\n            switch (e_press.which) {\n                // up\n                case 38:  // up arrow\n                case 87: // W\n                    scale = true;\n                // left\n                case 37:  // left arrow\n                case 65:  // A\n                    var weight = -1;\n                    break;\n                // down\n                case 40:  // down arrow\n                case 83: // S\n                    scale = true;\n                // right\n                case 39:  // right arrow\n                case 68: // D\n                    var weight = 1;\n                    break;\n                default:\n                    return;\n            }\n            if (e_press.shiftKey) {\n                weight *= 10;\n            }\n            // TODO: FIXME\n            if (props.step !== null && e_press.ctrlKey) {\n                weight = arcLength(value2angle(props.min), value2angle(props.min + weight * props.step)); // advance 1 or 10 steps\n            } else {\n                weight *= Math.PI / 50; // advance 1 or 10 percent\n            }\n            /*\n            if (typeof this.onStart === \"function\") {\n                this.onStart()\n            }\n            */\n            if (scale) {\n                // setAngleState([adjustedState[0] + weight / 2, adjustedState[1] - weight / 2]);\n                this.props.setProps({angleState: [adjustedState[0] + weight / 2, adjustedState[1] - weight / 2]});\n            } else if ([\"cisl-handle-to\", \"cisl-label-to\"].some((cl) => e_press.target.classList.contains(cl))) {\n                // setAngleState([adjustedState[0], adjustedState[1] + weight]);\n                this.props.setProps({angleState: [adjustedState[0], adjustedState[1] + weight]});\n            } else if ([\"cisl-handle-from\", \"cisl-label-from\"].some((cl) => e_press.target.classList.contains(cl))) {\n                // setAngleState([adjustedState[0] + weight, adjustedState[1]]);\n                this.props.setProps({angleState: [adjustedState[0] + weight, adjustedState[1]]});\n            } else if ([\"cisl-bar\", \"cisl-label-from-to\"].some((cl) => e_press.target.classList.contains(cl))) {\n                // setAngleState([adjustedState[0] + weight, adjustedState[1] + weight]);\n                this.props.setProps({angleState: [adjustedState[0] + weight, adjustedState[1] + weight]});\n            }\n            /*\n            if (typeof this.onFinish === \"function\") {\n                this.onFinish()\n            }\n            */\n        }\n        function handle_wheel(e_wheel) {\n            var weight = 0.01 * e_wheel.deltaY;\n            /*\n            if (typeof this.onStart === \"function\") {\n                this.onStart()\n            }\n            */\n            // setAngleState([adjustedState[0] - weight * Math.PI / 50, adjustedState[1] + weight * Math.PI / 50]); // zoom in/out 1 percent\n            this.props.setProps({angleState: [adjustedState[0] - weight * Math.PI / 50, adjustedState[1] + weight * Math.PI / 50]}); // zoom in/out 1 percent\n            /*\n            if (typeof this.onFinish === \"function\") {\n                this.onFinish()\n            }\n            */\n        }\n\n        /**\n         * Components to render the labels.\n         */\n        function Labels() {\n            if (angularDist(adjustedState[0], adjustedState[1]) > Math.PI / 10) {\n                var coord_from = angle2tangent(adjustedState[0], parseLength(props.labels_altitude, width));\n                var coord_to = angle2tangent(adjustedState[1], parseLength(props.labels_altitude, width));\n                var labels = [\n                    <span\n                        key='0'\n                        className='cisl-label cisl-label-from cisl--style'\n                        style={{\n                            left: coord_from[0],\n                            top: coord_from[1],\n                            transform: \"translate(-50%,-100%) rotate(\"+adjustedState[0]+\"rad)\"\n                        }}\n                        tabIndex='4'\n                        onMouseDown={handle_mousedown} onTouchStart={handle_mousedown}\n                        onKeyDown={handle_keydown}\n                        onWheel={handle_wheel}>\n                            {props.prefix + format_label(valueState[0]) + props.postfix}\n                    </span>,\n                    <span\n                        key='1'\n                        className='cisl-label cisl-label-to cisl--style'\n                        style={{\n                            left: coord_to[0],\n                            top: coord_to[1],\n                            transform: \"translate(-50%,-100%) rotate(\"+adjustedState[1]+\"rad)\"\n                        }}\n                        tabIndex='5'\n                        onMouseDown={handle_mousedown} onTouchStart={handle_mousedown}\n                        onKeyDown={handle_keydown}\n                        onWheel={handle_wheel}>\n                            {props.prefix + format_label(valueState[1]) + props.postfix}\n                    </span>\n                ];\n            } else {\n                var angle_from_to = adjustedState[0] + arcLength(adjustedState[0], adjustedState[1]) / 2;\n                var coord_from_to = angle2tangent(angle_from_to, parseLength(props.labels_altitude, width));\n                var labels = \n                    <span\n                        className='cisl-label cisl-label-from-to cisl--style'\n                        style={{\n                            left: coord_from_to[0],\n                            top: coord_from_to[1],\n                            transform: \"translate(-50%,-100%) rotate(\"+angle_from_to+\"rad)\"\n                        }}\n                        tabIndex='6'\n                        onMouseDown={handle_mousedown} onTouchStart={handle_mousedown}\n                        onKeyDown={handle_keydown}\n                        onWheel={handle_wheel}>\n                            {props.prefix + format_label(valueState[0]) + props.values_sep + format_label(valueState[1]) + props.postfix}\n                    </span>;\n            }\n\n            return(\n              <foreignObject width='100%' height='100%'>\n                {labels}\n              </foreignObject>\n            );\n        }\n\n        return(\n          <>\n            <Labels />\n            <path className='cisl-bar cisl--style' fill='transparent' tabIndex='3' strokeWidth={parseLength(props.rails_width, width)} d={\"M \" + tangentState[0][0] + \" \" + tangentState[0][1] + \" \" +\n              \"A \" + 0.35 * width + \" \" + 0.35 * width + \" \" +\n              \"0 \" + ((arcLength(adjustedState[0], adjustedState[1]) <= Math.PI) ? \"0 \" : \"1 \") + \"1 \" +\n              tangentState[1][0] + \" \" + tangentState[1][1] + \" \" +\n              \"A \" + 0.35 * width + \" \" + 0.35 * width + \" \" +\n              \"0 \" + ((arcLength(adjustedState[1], adjustedState[0]) <= Math.PI) ? \"0 \" : \"1 \") + \"1 \" +\n              tangentState[0][0] + \" \" + tangentState[0][1]} strokeDasharray={arcLength(adjustedState[0], adjustedState[1]) * 0.35 * width + \" \" + 2 * Math.PI * 0.35 * width}\n              onMouseDown={handle_mousedown} onTouchStart={handle_mousedown} onKeyDown={handle_keydown} onWheel={handle_wheel}\n            />\n            <rect className='cisl-handle cisl-handle-from cisl--style' tabIndex='1' x={tangentState[0][0]} y={tangentState[0][1]} style={{transform: \"translate(-50%,-50%) rotate(\"+adjustedState[0]+\"rad)\"}} onMouseDown={handle_mousedown} onTouchStart={handle_mousedown} onKeyDown={handle_keydown} onWheel={handle_wheel} />\n            <rect className='cisl-handle cisl-handle-to cisl--style' tabIndex='2' x={tangentState[1][0]} y={tangentState[1][1]} style={{transform: \"translate(-50%,-50%) rotate(\"+adjustedState[1]+\"rad)\"}} onMouseDown={handle_mousedown} onTouchStart={handle_mousedown} onKeyDown={handle_keydown} onWheel={handle_wheel} />\n          </>\n        );\n    }\n\n    return(\n      <div id={id} className='circularSlider' style={{height: width, width: width}} ref={cislRef}>\n        <svg id={'svg-' + id} className='cisl-container' height='100%' width='100%' >\n          <CislFixedParts />\n          <CislMovingParts />\n        </svg>\n      </div>\n    );\n}\n\n/*\n * Send the new value to the parent component.\n * setProps is a prop that is automatically supplied\n * by dash's front-end (\"dash-renderer\").\n * In a Dash app, this will update the component's\n * props and send the data back to the Python Dash\n * app server if a callback uses the modified prop as\n * Input or State.\n */\n\nCisl.propTypes = {\n    /**\n     * The id of the circular slider.\n     */\n    id: PropTypes.string,\n    /**\n     * The width (and height).\n     */\n    width: PropTypes.string,\n    /**\n     * Minimum value taken by the slider.\n     */\n    min: PropTypes.number,\n    /**\n     * Maximum value taken by the slider.\n     */\n    max: PropTypes.number,\n    /**\n     * The initial value of the 'from' handle.\n     */\n    from: PropTypes.number,\n    /**\n     * The initial value of the 'to' handle.\n     */\n    to: PropTypes.number,\n    /**\n     * Step between consecutive values.\n     */\n    step: PropTypes.number,\n    /**\n     * The total number of breaks in the 'ruler'.\n     */\n    breaks_n: PropTypes.number,\n    /**\n     * Put a major break every ... breaks.\n     */\n    major_breaks_every: PropTypes.number,\n    /**\n     * The width of the rails.\n     */\n    rails_width: PropTypes.string,\n    /**\n     * The width of the internal bar between the handles.\n     */\n    bar_width: PropTypes.string,\n    /**\n     * The thickness of the border of the rails.\n     */\n    rails_border_width: PropTypes.string,\n    /**\n     * The height of the breaks.\n     */\n    breaks_altitude: PropTypes.string,\n    /**\n     * The height of the labels.\n     */\n    labels_altitude: PropTypes.string,\n    /**\n     * The number of digits in the labels.\n     */\n    digits: PropTypes.number,\n    /**\n     * The prefix for the labels.\n     */\n    prefix: PropTypes.string,\n    /**\n     * The postfix for the labels.\n     */\n    postfix: PropTypes.string,\n    /**\n     * The separator for the labels.\n     */\n    values_sep: PropTypes.string,\n    /**\n     * Dash-assigned callback that should be called to report property changes\n     * to Dash, to make them available for callbacks.\n     */\n    setProps: PropTypes.func\n};\n\nCisl.defaultProps = {\n    width: '500px',\n    min: 0,\n    max: 100,\n    from: 0,\n    to: 25,\n    step: 0, // DOC: if 0, we've got a continuous slider\n    breaks_n: 50,\n    major_breaks_every: 5, // put a major break (and a label) every x minor breaks\n    rails_width: '2%',\n    rails_border_width: '0.2%',\n    breaks_altitude: '5%',\n    labels_altitude: '3.5%',\n    digits: 2, // how many digits should labels and breaks have\n    prefix: '',\n    postfix: '',\n    values_sep: ':'\n};\n\n/*\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\nExampleComponent is an example component.\nIt takes a property, `label`, and\ndisplays it.\nIt renders an input with the property `value`\nwhich is editable by the user.\n\nexport default class DashCisl extends Component {\n    render() {\n        const {id, label, setProps, value} = this.props;\n\n        return (\n            <div id={id}>\n                ExampleComponent: {label}&nbsp;\n                <input\n                    value={value}\n                    onChange={\n                        \n                        Send the new value to the parent component.\n                        setProps is a prop that is automatically supplied\n                        by dash's front-end (\"dash-renderer\").\n                        In a Dash app, this will update the component's\n                        props and send the data back to the Python Dash\n                        app server if a callback uses the modified prop as\n                        Input or State.\n                        \n                        e => setProps({ value: e.target.value })\n                    }\n                />\n            </div>\n        );\n    }\n}\n\nDashCisl.defaultProps = {};\n\nDashCisl.propTypes = {\n    id: PropTypes.string,\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string,\n    setProps: PropTypes.func\n};\n*/\n"],"sourceRoot":""}